(this.webpackJsonpklausurtrainer=this.webpackJsonpklausurtrainer||[]).push([[0],{87:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),s=n(9),i=n.n(s),o=(n(87),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))}),l=n(140),j=n(11),u=(n(88),n(20)),d=n(73),b=n(95),h=function(e,t){for(var n,r,c=(e=JSON.parse(JSON.stringify(e))).length;0!==c;)r=Math.floor(Math.random()*c),(c-=1)==t?t=r:r==t&&(t=c),n=e[c],e[c]=e[r],e[r]=n;return{answers:e,correct:t}},O=n(141),v=n(129),g=n(28);function x(e,t){var n=Object(c.useState)((function(){try{var n;return JSON.parse(null!==(n=localStorage.getItem(e))&&void 0!==n?n:"")}catch(r){return t}})),r=Object(j.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var t=function(t){if(t.detail===e)try{var n;s(JSON.parse(null!==(n=localStorage.getItem(e))&&void 0!==n?n:""))}catch(r){}};return window.addEventListener("storageUpdate",t),function(){return window.removeEventListener("storageUpdate",t)}})),[a,function(t){window.localStorage.setItem(e,JSON.stringify(t)),s(t);var n=new CustomEvent("storageUpdate",{detail:e});window.dispatchEvent(n)}]}var f=function(e){var t=e.children.split(/img([^)]*)\)/),n=x("settings"),c=Object(j.a)(n,1)[0];return Object(r.jsx)("div",{className:"parsedText",children:t.map((function(e,t){return t%2===0?(null===c||void 0===c?void 0:c.useDangerouslySetInnerHTML)?Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}},t):Object(r.jsx)("div",{children:e},t):t%2===1?Object(r.jsx)("img",{src:e.substring(1,e.length)},t):void 0}))})},m=function(e){var t=e.question,n=e.answers,a=e.correct,s=e.next,i=Object(c.useState)(""),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(!1),h=Object(j.a)(d,2),x=h[0],m=h[1],p=function(e){x||u(e.target.value)};return Object(r.jsxs)("div",{className:"question",children:[Object(r.jsxs)(b.a,{elevation:3,children:[Object(r.jsx)("h2",{children:"Frage"}),Object(r.jsx)(f,{children:t})]}),Object(r.jsxs)(b.a,{elevation:3,children:[Object(r.jsx)("h2",{children:"Antworten"}),n.map((function(e,t){return Object(r.jsxs)("div",{className:"answers "+(x?a===t?"correct":l===String(t)?"false":"":""),children:[Object(r.jsx)(O.a,{checked:l===String(t),value:t,onChange:p}),Object(r.jsx)(f,{children:e})]},t)}))]}),Object(r.jsx)(b.a,{elevation:3,children:Object(r.jsx)("div",{className:"questionNavi",children:x?Object(r.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){s(l)},children:"Weiter"}):Object(r.jsx)("div",{onClick:function(){""===l&&g.b.warning("Du hast keine Antwort ausgew\xe4hlt!")},children:Object(r.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){m(!0)},disabled:""===l,children:"\xdcberpr\xfcfen"})})})})]})},p=n(143),w=n(130),S=n(96),N=n(131),k=n(71),y=n.n(k),F=function(e){var t=0,n=0;e.givenAnswers.forEach((function(e){String(e.correct)==e.given?t++:n++}));var c=Math.round(t/(t+n)*100);return Object(r.jsxs)("div",{className:"result",children:[Object(r.jsxs)(b.a,{elevation:3,children:[Object(r.jsx)("h1",{children:"Ergebnis"}),Object(r.jsxs)("div",{className:"percentage",children:[Object(r.jsxs)("span",{className:"percentageNumber"+(c>=50?" good":" bad"),children:[c,"%"]}),Object(r.jsx)("span",{children:" der Fragen wurden richtig beantwortet"})]}),Object(r.jsxs)("div",{className:"count",children:[Object(r.jsx)("span",{className:"correctCount",children:t}),Object(r.jsx)("span",{children:"Frage korrekt beantwortet"})]}),Object(r.jsxs)("div",{className:"count",children:[Object(r.jsx)("span",{className:"falseCount",children:n}),Object(r.jsx)("span",{children:"Frage falsch beantwortet"})]})]}),Object(r.jsx)("div",{className:"repeat",children:e.givenAnswers.map((function(t,n){return Object(r.jsx)("div",{children:Object(r.jsxs)(p.a,{className:"restultQuestion "+(String(t.correct)===t.given?"correct":"false"),children:[Object(r.jsx)(w.a,{expandIcon:Object(r.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(r.jsxs)(S.a,{children:["Frage ",n+1]})}),Object(r.jsx)(N.a,{children:Object(r.jsxs)("div",{className:"details",children:[Object(r.jsx)("h2",{children:"Frage"}),Object(r.jsx)(f,{children:e.questions[t.questionIndex].question}),!isNaN(parseInt(t.given))&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Deine Antwort"}),Object(r.jsx)(f,{children:e.questions[t.questionIndex].answers[parseInt(t.given)]})]}),Object(r.jsx)("h2",{children:"Korrekte Antwort"}),Object(r.jsx)(f,{children:e.questions[t.questionIndex].answers[t.correct]})]})})]})},t.questionIndex)}))}),Object(r.jsx)(b.a,{elevation:3,children:Object(r.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){return e.resetTest()},children:"Nochmal"})})]})},C=function(e){var t=Object(c.useState)(0),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),o=Object(j.a)(i,2),l=o[0],O=o[1],v=Object(c.useState)([]),g=Object(j.a)(v,2),x=g[0],f=g[1];return Object(c.useEffect)((function(){f(function(e,t,n){var r=[],c=[];t>e.length&&(t=e.length);for(var a=0;a<t;a++){for(var s=Math.floor(Math.random()*e.length);r.includes(s);)s=Math.floor(Math.random()*e.length);r.push(s);var i=n?h(e[s].answers,e[s].correct):{answers:e[s].answers,correct:e[s].correct},o=i.answers,l=i.correct;c.push(Object(u.a)(Object(u.a)({},e[s]),{},{answers:o,correct:l}))}return c}(e.questions,e.count,e.shouldAnswersBeShuffled))}),[e.questions,e.count]),Object(r.jsx)("div",{children:a<e.count?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{elevation:3,children:Object(r.jsxs)("div",{children:[a+1," von ",e.count]})}),x[a]&&Object(r.jsx)(m,Object(u.a)(Object(u.a)({},x[a]),{},{next:function(e){var t;O([].concat(Object(d.a)(l),[{given:e,questionIndex:a,correct:null===(t=x[a])||void 0===t?void 0:t.correct}])),s(a+1)}}),a)]}):Object(r.jsx)(F,{givenAnswers:l,questions:x,resetTest:e.resetTest})})},I=n(144),q=n(137),T=n(146),E=n(139),A=n(147),M=n(132),B=n(142),D=(n(93),n(48)),L=function(e,t){var n=document.getElementById("file-upload"),r=null===n||void 0===n?void 0:n.files;if(r.length<=0)return!1;r&&r[0]&&e(r[0].name);var c=new FileReader;c.onload=function(e){try{var n=r[0].name.replace(".json",""),c=JSON.parse(e.target.result);c=c.map((function(e,t){return e.id=t,e.correct=e.correct-1,e})),function(e,t){window.localStorage.setItem(e,JSON.stringify(t));var n=new CustomEvent("storageUpdate",{detail:e});window.dispatchEvent(n)}("questions",Object(u.a)(Object(u.a)({},function(e){try{var t;return JSON.parse(null!==(t=localStorage.getItem(e))&&void 0!==t?t:"")}catch(n){return}}("questions")),{},Object(D.a)({},n,c))),t(n),g.b.success("Es wurden "+c.length+" Fragen erfolgreich importiert!")}catch(a){g.b.error("Beim importieren der Fragen ist ein Fehler aufgetreten. Bitte \xfcberpr\xfcfe deine .json Datei")}},c.readAsText(r.item(0))},J=n(133),H=n(134),U=n(75),z=n(138),P=n(72),K=n.n(P),R=function(){var e,t=Object(c.useState)(!1),n=Object(j.a)(t,2),a=n[0],s=n[1],i=x("settings"),o=Object(j.a)(i,2),l=o[0],d=o[1],b=Object(c.useRef)(null),h=Object(c.useState)(null===(e=null===l||void 0===l?void 0:l.useDangerouslySetInnerHTML)||void 0===e||e),O=Object(j.a)(h,2),v=O[0],g=O[1];return Object(c.useEffect)((function(){var e=null!==l&&void 0!==l?l:{};(e=Object(u.a)({},e)).useDangerouslySetInnerHTML=v,d(e)}),[v]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{ref:b,children:Object(r.jsx)(U.a,{"aria-label":"Einstellungen","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return s(!a)},color:"inherit",children:Object(r.jsx)(K.a,{})})}),Object(r.jsx)(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:function(){return s(!a)},anchorEl:b.current,children:Object(r.jsx)("div",{className:"settings",children:Object(r.jsx)(M.a,{control:Object(r.jsx)(B.a,{checked:v,onChange:function(e){return g(e.target.checked)},name:"checkedB",color:"primary"}),label:"Ausf\xfchrung von HTML erlauben"})})})]})},_=function(e){return Object(r.jsx)(J.a,{position:"static",children:Object(r.jsxs)(H.a,{children:[Object(r.jsx)("div",{onClick:function(){return e.setTestStarted(!1)},style:{cursor:"pointer",flexGrow:1},children:Object(r.jsx)(S.a,{variant:"h6",children:"Klausurtrainer"})}),Object(r.jsx)(R,{})]})})};var G=function(){var e,t,n,a=Object(c.useState)(10),s=Object(j.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)("Datei ausw\xe4hlen"),u=Object(j.a)(l,2),d=u[0],h=u[1],O=Object(c.useState)(),f=Object(j.a)(O,2),m=f[0],p=f[1],w=Object(c.useState)(!0),S=Object(j.a)(w,2),N=S[0],k=S[1],y=Object(c.useState)(""),F=Object(j.a)(y,2),D=F[0],J=F[1],H=x("questions"),U=Object(j.a)(H,1)[0];return Object(r.jsxs)("div",{children:[Object(r.jsx)(_,{setTestStarted:p}),Object(r.jsx)(g.a,{position:"bottom-center",autoClose:6e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(r.jsx)("div",{className:"App",children:m?Object(r.jsx)(C,{questions:null!==(e=null===U||void 0===U?void 0:U[D])&&void 0!==e?e:[],count:i>=(null!==(t=null===U||void 0===U?void 0:U[D])&&void 0!==t?t:[]).length?(null!==(n=null===U||void 0===U?void 0:U[D])&&void 0!==n?n:[]).length:i,resetTest:function(){return p(!1)},shouldAnswersBeShuffled:N},d+i):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b.a,{elevation:3,children:[Object(r.jsx)("h2",{style:{marginBottom:"1rem"},children:"Lern Modus ausw\xe4hlen"}),Object(r.jsxs)("div",{className:"startSettings",children:[Object(r.jsx)(I.a,{id:"outlined-number",label:"Anzahl Fragen",type:"number",InputLabelProps:{shrink:!0},value:i,variant:"outlined",onChange:function(e){o(parseInt(e.target.value))}}),U&&Object(r.jsxs)(q.a,{variant:"outlined",children:[Object(r.jsx)(T.a,{id:"demo-simple-select-outlined-label",children:"Fragenkatalog ausw\xe4hlen"}),Object(r.jsx)(E.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:D,onChange:function(e){return J(e.target.value)},label:"Fragenkatalog ausw\xe4hlen",variant:"outlined",children:Object.keys(U).map((function(e){return Object(r.jsx)(A.a,{value:e,children:e},e)}))})]}),Object(r.jsx)("div",{children:Object(r.jsx)(M.a,{control:Object(r.jsx)(B.a,{checked:N,onChange:function(e){return k(e.target.checked)},name:"checkedB",color:"primary"}),label:"Antwortm\xf6glichkeiten zuf\xe4llig anordnen"})})]})]}),Object(r.jsx)(b.a,{elevation:3,children:Object(r.jsxs)("div",{className:"fileUpload",children:[Object(r.jsx)("h2",{style:{marginBottom:"1rem"},children:"Neue Fragen importieren"}),Object(r.jsxs)("div",{className:"name",children:["Dateiname: ",d]}),Object(r.jsxs)(v.a,{variant:"contained",component:"label",onChange:function(){return L(h,J)},children:["Datei ausw\xe4hlen",Object(r.jsx)("input",{type:"file",hidden:!0,id:"file-upload"})]})]})}),Object(r.jsx)(b.a,{elevation:3,children:Object(r.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){var e;(null!==(e=null===U||void 0===U?void 0:U[D])&&void 0!==e?e:[]).length>0?p(!0):g.b.warning("Du muss noch eine Datei mit Fragen importieren!")},children:"Test starten"})})]})})]})},Q=function(){return Object(r.jsx)(l.a,{children:Object(r.jsx)(G,{})})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Q,{})}),document.getElementById("root")),o()}},[[94,1,2]]]);
//# sourceMappingURL=main.733419d2.chunk.js.map